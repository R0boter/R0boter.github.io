---
layout: post
title: Git 初体验
categories: [Git]
---

## 前言

### 什么是 Git

Git 是一个版本管理系统，和其他版本控制系统最大的区别是，其他系统是基于差异的版本控制（即一组基础文件和每个文件随着时间变化积累的差异）。而 Git 是直接记录文件快照（相当于每次是将文件做了一次完整复制，每一次的记录都是一个全新的副本），在每一次存储文件之前会计算文件的校验和（Git 计算校验和使用的是 SHA-1 散列即哈希），Git 数据库中保存的信息都是以文件内容的哈希值来作为索引。

### Git 中文件的三种状态

- 已修改(modified)：表示文件已经被修改，但还未保存到数据库中
- 已暂存(staged)：表示已将已修改的文件添加到暂存区，但还未提交
- 已提交(committed)：表示已将文件提交保存到本地数据库中

**Tips：此外在工作区中新建但还未提交的文件会被标记为未跟踪状态**

### Git 中的三个区域

- 工作区(Working Directory)：当前使用和修改的文件，即你当前磁盘上显示的文件，在工作区中新建或修改文件会将该文件标识为未跟踪或已修改状态
- 暂存区(Staging Area)：暂存区只是记录了哪些文件会在下次提交时保存到 Git 仓库中，它并没有保存任何文件内容，仅记录了一份文件列表信息
- Git 仓库(Repository)：用来保存项目元数据和对象数据库的地方，存储了该项目各个版本的快照并使用文件内容的哈希值进行索引，

### Git 中的配置

#### 配置文件

- 系统配置文件：包含每一个用户及仓库的通用配置
  - Windows：是 Git 安装目录下的 etc 文件夹中的 gitconfig
  - Linux：是 /etc/gitconfig 文件
- 用户的全局配置文件：包含该用户下所有仓库的通用配置
  - 所有系统都是用户家目录下的`.gitconfig` 文件，Linux 系统下也有可能是`.config/git/config`文件
- 仓库配置文件：仅对当前仓库生效
  - 项目文件夹下的`.git/config`文件

#### 配置方式及常用配置

使用`git config`命令可以对 Git 进行配置

- `--system`选项表示进行系统配置，读写的是系统配置文件，对系统上所有用户及其下仓库生效
- `--globle`选项表示进行用户配置，读写的是用户配置文件，对该用户下所有仓库生效
- `--local`选项表示进行仓库配置，读写的是当前仓库的配置文件，仅对当前仓库生效(此命令只能在项目文件夹下使用)

## 初始化仓库

### 初始化

命令：`git init`

用处：将当前文件夹初始化为一个 git 仓库。所有的 git 命令都只在 git 仓库下才有意义，因此要使用 git 相关命令第一步是确保你在一个 git 仓库下

git 仓库下会有一个`.git`的文件夹，在 Linux 和 MacOS 下这是一个隐藏文件夹，要使用`ls -a`才能看到，这里面存放了关于仓库的所有信息，以及仓库中文件的所有信息，如果删除此文件夹，则 git 仓库就不再是一个仓库了

### 添加文件

命令：`git add filename`

用处：当一个仓库初始化后，在该仓库下新增的文件还需要手动添加到该仓库中，才能实现对文件进行追踪和版本管理。使用`git add`表示将文件添加到暂存区，下次提交时会将暂存区中所有文件一并提交到本地仓库中

文件名应当是一个完整的路径，可以是相对路径也可以是绝对路径，但所有文件一定是在仓库根目录下面或仓库根目录下的各个子目录中，可以一次添加多个文件，也可以使用`*`表示所有文件

### 提交文件

命令：`git commit -m "xxx"`

用处：将添加的文件提交到仓库中，`-m`后指定的是此次提交的说明文字，一般用于简短描述此次编辑的作用，方便以后查找改动记录
