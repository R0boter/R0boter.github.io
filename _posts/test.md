## 文件夹结构

关于 spaceline.vim 插件的分析

autoload 文件夹存放各个部件设置的函数和变量,vim 会自动加载这个文件夹下的 .vim 文件

doc 存放说明文档

plugin 插件存放目录。也是插件入口

## 入口

plugin 下只有一个 statusline.vim 此文件就是入口文件

文件开头先判断此插件是否加载，和 vim 版本是否大于 7.0 然后将加载 flug 设置为 1 表示插件已经加载

然后设置全局变量

1. 状态栏风格，默认 slant `get()` 函数的作用是判断第二个参数是否在第一个参数中，在就返回这个，没在就返回第三个参数

2. 状态栏主题，默认 space

3. 定义一个列表，列表中是一些比较特殊的文件类型，比如文件管理插件打开的页面

4. 设置 在滚动浏览文件时的显示图标，和默认值

5. 设置 信息诊断工具 和默认值

6. 设置版本管理工具 和默认值

7. 设置错误信息的显示图标和默认值

8. 设置警告信息的显示图标

9. 设置 ok 图标

10. 设置分支显示图标

11. 设置当有版本管理的文件发生变动时显示的图标

12. 设置 function 图标

13. 设置一个空字典，用于后面存放，分隔符

14. 一个自动命令组，用于监视当文件、buffer、文件类型等发生变动时，状态栏随之改变

### 自动命令组

关于他的自动命令组，最多使用的是 spaceline#spacelinetoggle() 函数，从名字就可以看出是用于 状态栏变动的，及设置状态栏的主要功能

然后就是 spaceline#vcs#gitbranch_detect()函数，应该是用于 版本管理信息的

和一个 颜色主题设置 spaceline#colorscheme_init()

以下是自动命令按它里面的流程顺序的一个说明

1. 当 buffer 开始编辑一个不存在的文件和读取一个存在的文件准备编辑之前 调用 git 函数

2. 当进入一个 buffer 调用 git 函数

3. 设置 filetype 选项后，在窗口显示缓冲区后，进入新缓冲区后，将整个缓冲区保存到文件后 调用 toggle 函数

4. 进入一个 buffer 后，打开另一个窗口后，文件在 vim 以外的地方发生更改 调用 toggle 函数

5. 设置 colorscheme 选项后，调用 color 函数

6. 当 vim 窗口大小发生改变后，调用 toggle 函数

7. 离开 vim 窗口之前 调用 toggle 函数

8. CocStatus Coc-git clapexit gitgutter 等插件自定义函数执行后调用 toggle

9. Coc-diagnostic 改变时 调用 toggle

## auto

auto 文件夹是一个自动加载文件夹，根据上面提供的信息，以在入口文件被调用的三个函数为主进行分析

### toggle 函数

### git 函数

### color 函数
